<!DOCTYPE html>
<html lang="sk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ObedovÃ© Menu - Kreston Slovakia</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --navy: #00274d;
            --navy-mid: #003d75;
            --accent: #e8a020;
            --light-bg: #f4f7fb;
            --card-bg: #ffffff;
            --text: #1a2535;
            --muted: #6b7e96;
            --border: #dce4ef;
            --success: #2e7d32;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'DM Sans', sans-serif;
            background: var(--light-bg);
            color: var(--text);
            min-height: 100vh;
            padding: 24px 16px 48px;
        }

        .container {
            max-width: 1300px;
            margin: 0 auto;
        }

        /* â”€â”€ Header â”€â”€ */
        .header {
            text-align: center;
            padding: 48px 32px 40px;
            background: var(--navy);
            border-radius: 20px;
            margin-bottom: 32px;
            position: relative;
            overflow: hidden;
        }
        .header::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(ellipse at 70% 50%, rgba(232,160,32,0.12) 0%, transparent 60%),
                        radial-gradient(ellipse at 20% 80%, rgba(0,100,200,0.15) 0%, transparent 50%);
        }
        .header > * { position: relative; z-index: 1; }

        .company-badge {
            display: inline-block;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            color: rgba(255,255,255,0.8);
            font-size: 0.75em;
            font-weight: 600;
            letter-spacing: 2px;
            text-transform: uppercase;
            padding: 5px 14px;
            border-radius: 20px;
            margin-bottom: 18px;
        }

        h1 {
            font-family: 'DM Serif Display', serif;
            color: #fff;
            font-size: clamp(2em, 5vw, 3.2em);
            font-weight: 400;
            line-height: 1.15;
            margin-bottom: 8px;
        }

        .header-sub {
            color: rgba(255,255,255,0.55);
            font-size: 0.9em;
            margin-bottom: 28px;
            letter-spacing: 0.3px;
        }

        .today-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: var(--accent);
            color: var(--navy);
            font-weight: 600;
            font-size: 0.95em;
            padding: 8px 20px;
            border-radius: 30px;
            margin-bottom: 24px;
        }

        .btn {
            background: #fff;
            color: var(--navy);
            border: none;
            padding: 13px 30px;
            font-size: 0.95em;
            font-family: 'DM Sans', sans-serif;
            font-weight: 600;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(0,0,0,0.2); }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

        /* â”€â”€ Grid â”€â”€ */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 20px;
        }

        /* â”€â”€ Card â”€â”€ */
        .card {
            background: var(--card-bg);
            border-radius: 16px;
            box-shadow: 0 2px 16px rgba(0,39,77,0.08);
            overflow: hidden;
            transition: box-shadow 0.2s;
        }
        .card:hover { box-shadow: 0 6px 28px rgba(0,39,77,0.14); }

        .card-head {
            background: var(--navy);
            padding: 18px 22px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 12px;
        }

        .rest-name {
            color: #fff;
            font-weight: 600;
            font-size: 1.05em;
        }

        .visit-btn {
            color: rgba(255,255,255,0.8);
            text-decoration: none;
            font-size: 0.8em;
            font-weight: 500;
            border: 1px solid rgba(255,255,255,0.25);
            padding: 5px 12px;
            border-radius: 6px;
            transition: all 0.2s;
            white-space: nowrap;
        }
        .visit-btn:hover { background: rgba(255,255,255,0.15); color: #fff; }

        .card-body { padding: 20px 22px; }

        /* â”€â”€ Menu items â”€â”€ */
        .menu-date {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 0.85em;
            font-weight: 500;
            color: var(--navy-mid);
            background: #eef4ff;
            border-radius: 8px;
            padding: 8px 14px;
            margin-bottom: 16px;
        }

        .section-title {
            font-weight: 700;
            font-size: 0.72em;
            letter-spacing: 1.8px;
            text-transform: uppercase;
            color: var(--navy);
            margin: 24px 0 10px;
            padding: 7px 12px;
            background: #eef4ff;
            border-left: 3px solid var(--navy);
            border-radius: 0 6px 6px 0;
        }
        .section-title:first-of-type { margin-top: 0; }
        .section-title.vegan {
            color: #1b6b2f;
            background: #edf7f0;
            border-left-color: #2e7d32;
        }
        .section-title.stala {
            color: #5a3e00;
            background: #fff8e1;
            border-left-color: var(--accent);
        }

        .menu-item {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            gap: 12px;
            padding: 10px 0;
            border-bottom: 1px solid #f0f4f8;
        }
        .menu-item:last-child { border-bottom: none; }

        .dish-name {
            flex: 1;
            font-size: 0.93em;
            line-height: 1.5;
            color: var(--text);
        }

        .price {
            font-weight: 600;
            font-size: 0.95em;
            color: var(--navy);
            white-space: nowrap;
        }

        /* â”€â”€ States â”€â”€ */
        .spinner-wrap { text-align: center; padding: 40px 20px; }
        .spinner {
            width: 28px; height: 28px;
            border: 3px solid var(--border);
            border-top-color: var(--navy);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin: 0 auto 12px;
        }
        @keyframes spin { to { transform: rotate(360deg); } }
        .spinner-label { color: var(--muted); font-size: 0.9em; }

        .error-box {
            background: #fff8e1;
            border-left: 3px solid var(--accent);
            border-radius: 8px;
            padding: 14px 16px;
            font-size: 0.88em;
            color: #5a4200;
        }
        .error-box button {
            margin-top: 10px;
            background: var(--navy);
            color: #fff;
            border: none;
            padding: 6px 14px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.85em;
            font-family: 'DM Sans', sans-serif;
        }
        .no-menu { text-align: center; color: var(--muted); padding: 30px 0; font-size: 0.9em; }

        .footer {
            text-align: center;
            margin-top: 36px;
            color: var(--muted);
            font-size: 0.82em;
        }
        .updated { margin-top: 8px; }

        @media (max-width: 820px) {
            .grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
<div class="container">

    <div class="header">
        <div class="company-badge">Kreston Slovakia</div>
        <h1>ObedovÃ© Menu</h1>
        <p class="header-sub">Lunch Break Â· Foodgarden Pressburg Â· Foodgarden Apollo</p>
        <div class="today-badge" id="todayBadge">ğŸ“… â€”</div><br>
        <button class="btn" onclick="fetchAllMenus()" id="fetchBtn">ğŸ”„ NaÄÃ­taj vÅ¡etky menu</button>
    </div>

    <div class="grid">
        <!-- Lunch Break -->
        <div class="card">
            <div class="card-head">
                <div class="rest-name">ğŸ´ Lunch Break</div>
                <a href="https://www.lunch-break.sk/menu-apollo/" target="_blank" class="visit-btn">OtvoriÅ¥ â†’</a>
            </div>
            <div class="card-body" id="lb-content"><div class="spinner-wrap"><div class="spinner"></div><div class="spinner-label">NaÄÃ­tavam...</div></div></div>
        </div>

        <!-- Foodgarden Pressburg -->
        <div class="card">
            <div class="card-head">
                <div class="rest-name">ğŸŒ¿ Foodgarden Pressburg</div>
                <a href="https://pressburg.foodgarden.sk/denne-menu-foodgarden-pressburg/" target="_blank" class="visit-btn">OtvoriÅ¥ â†’</a>
            </div>
            <div class="card-body" id="fp-content"><div class="spinner-wrap"><div class="spinner"></div><div class="spinner-label">NaÄÃ­tavam...</div></div></div>
        </div>

        <!-- Foodgarden Apollo -->
        <div class="card">
            <div class="card-head">
                <div class="rest-name">ğŸ›ï¸ Foodgarden Apollo</div>
                <a href="https://apollo.foodgarden.sk/" target="_blank" class="visit-btn">OtvoriÅ¥ â†’</a>
            </div>
            <div class="card-body" id="fa-content"><div class="spinner-wrap"><div class="spinner"></div><div class="spinner-label">NaÄÃ­tavam...</div></div></div>
        </div>
    </div>

    <div class="footer">
        <div class="updated" id="updatedTime"></div>
        Kreston Slovakia â€“ ObedovÃ© Menu
    </div>
</div>

<script>
// â”€â”€ Helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

const SK_DAYS = ['NedeÄ¾a','Pondelok','Utorok','Streda','Å tvrtok','Piatok','Sobota'];

function todayName() { return SK_DAYS[new Date().getDay()]; }
function todayDate() {
    const d = new Date();
    return `${String(d.getDate()).padStart(2,'0')}.${String(d.getMonth()+1).padStart(2,'0')}.${d.getFullYear()}`;
}
function fullDate() { return `${todayName()} ${todayDate()}`; }

document.getElementById('todayBadge').textContent = `ğŸ“… ${fullDate()}`;

// CORS proxies â€” tried in order, first success wins
const PROXIES = [
    url => `https://api.allorigins.win/raw?url=${encodeURIComponent(url)}`,
    url => `https://corsproxy.io/?${encodeURIComponent(url)}`,
    url => `https://api.codetabs.com/v1/proxy?quest=${encodeURIComponent(url)}`,
    url => `https://thingproxy.freeboard.io/fetch/${url}`,
    url => `https://jsonp.afeld.me/?url=${encodeURIComponent(url)}`,
];

async function fetchHTML(url, timeoutMs = 8000) {
    for (const makeProxy of PROXIES) {
        try {
            const ctrl = new AbortController();
            const timer = setTimeout(() => ctrl.abort(), timeoutMs);
            const res = await fetch(makeProxy(url), { signal: ctrl.signal });
            clearTimeout(timer);
            if (!res.ok) continue;
            const text = await res.text();
            if (text && text.length > 200) return text;
        } catch (_) { /* try next */ }
    }
    throw new Error('VÅ¡etky proxy servery zlyhali');
}

function dateHeader() {
    return `<div class="menu-date">ğŸ“… ${fullDate()}</div>`;
}

const SECTION_CLASS = {
    'ğŸŒ± VegÃ¡nske menu': 'vegan',
    'ğŸ“‹ StÃ¡la ponuka':  'stala',
    'â­ Å peciÃ¡l menu':  'stala',
};

function renderItems(sections) {
    let html = '';
    let hasAny = false;
    for (const [title, items] of sections) {
        if (!items.length) continue;
        hasAny = true;
        const cls = SECTION_CLASS[title] ? ` ${SECTION_CLASS[title]}` : '';
        html += `<div class="section-title${cls}">${title}</div>`;
        items.forEach(({name, price}) => {
            html += `<div class="menu-item">
                <div class="dish-name">${name}</div>
                <div class="price">${price}</div>
            </div>`;
        });
    }
    return hasAny ? html : '<div class="no-menu">Menu pre dneÅ¡nÃ½ deÅˆ nie je dostupnÃ©.</div>';
}

function errorHTML(retryFn) {
    return `<div class="error-box">
        âš ï¸ Menu sa nepodarilo naÄÃ­taÅ¥. SkÃºste otvoriÅ¥ strÃ¡nku reÅ¡taurÃ¡cie priamo.
        <br><button onclick="${retryFn}()">ğŸ”„ SkÃºsiÅ¥ znova</button>
    </div>`;
}

// â”€â”€ Lunch Break â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Structure: Divi builder, today's menu in .et_pb_toggle_open .et_pb_toggle_content
// Sections separated by <hr>, headings in <strong> colored spans
// Items: letter prefix "A, description\nprice â‚¬" or just "description\nprice â‚¬"

function parseLunchBreak(doc) {
    const sections = new Map([
        ['ğŸ¥£ Polievky',        []],
        ['ğŸ– MÃ¤sovÃ© menu',     []],
        ['ğŸ¥— BezmÃ¤sitÃ© menu',  []],
        ['â­ Å peciÃ¡l menu',    []],
    ]);

    // Find today's open toggle (et_pb_toggle_open) or first toggle with today's date
    let toggleContent = null;
    const toggles = doc.querySelectorAll('.et_pb_toggle');
    const todayStr = todayDate(); // dd.mm.yyyy

    for (const t of toggles) {
        const title = t.querySelector('.et_pb_toggle_title')?.textContent || '';
        if (title.includes(todayStr) || t.classList.contains('et_pb_toggle_open')) {
            toggleContent = t.querySelector('.et_pb_toggle_content');
            if (toggleContent) break;
        }
    }
    // fallback: first toggle with content
    if (!toggleContent) toggleContent = doc.querySelector('.et_pb_toggle_content');
    if (!toggleContent) return sections;

    let cur = null;

    // Walk paragraph by paragraph
    const paras = toggleContent.querySelectorAll('p');
    paras.forEach(p => {
        const raw = p.innerText || p.textContent;
        const text = raw.trim();
        if (!text) return;
        const up = text.toUpperCase();

        // Section headers (bold colored text)
        if (up.includes('POLIEVKA') && !up.includes('V CENE')) { cur = 'ğŸ¥£ Polievky'; return; }
        if (up.includes('MÃ„SOVÃ‰ MENU'))    { cur = 'ğŸ– MÃ¤sovÃ© menu'; return; }
        if (up.includes('BEZMÃ„SITÃ‰ MENU')) { cur = 'ğŸ¥— BezmÃ¤sitÃ© menu'; return; }
        // All Å PECIÃL variants (Å PECIÃL MENU, Å PECIÃL Å ALÃT, Å PECIÃL BOWL...) â†’ one section
        if (up.startsWith('Å PECIÃL') || up.startsWith('SPECIAL')) { cur = 'â­ Å peciÃ¡l menu'; return; }
        if (up.includes('V CENE MENU'))    { return; } // skip "polievka je zahrnutÃ¡..."

        if (!cur) return;

        // Polievky: "0,3l ZemiakovÃ¡ / HovÃ¤dzÃ­ vÃ½var (alergÃ©ny)"
        if (cur === 'ğŸ¥£ Polievky') {
            // Strip leading volume "0,3l "
            const cleaned = text.replace(/^\d[,.]?\d*l\s*/i, '');
            // Split by " / " for multiple soups
            const soups = cleaned.split(/\s*\/\s*/);
            soups.forEach(s => {
                // Remove allergen info in parens at end
                const name = s.replace(/\s*\(\d[,\d]*\)\s*$/, '').trim();
                if (name.length > 3) sections.get('ğŸ¥£ Polievky').push({ name, price: 'v cene menu' });
            });
            return;
        }

        // Menu items: paragraph may contain "A, description\n9,50 â‚¬" (two lines)
        // innerText splits lines with \n
        const lines = text.split('\n').map(l => l.trim()).filter(Boolean);
        if (lines.length >= 2) {
            // Last line should be the price
            const priceLine = lines[lines.length - 1];
            const priceMatch = priceLine.match(/(\d+[.,]\d+)\s*â‚¬/);
            if (priceMatch) {
                const price = priceMatch[1].replace(',', '.') + ' â‚¬';
                // Name = all lines except last, joined
                const nameParts = lines.slice(0, -1).join(' ');
                // Clean up: remove allergen codes at end like "(1,3,7)"
                const name = nameParts.replace(/\s*\(\d[\d,]*\)\s*$/, '').trim();
                if (name.length > 3) sections.get(cur)?.push({ name, price });
                return;
            }
        }
        // Single line with inline price "NieÄo 9,50 â‚¬"
        const inlineMatch = text.match(/^(.+?)\s+(\d+[.,]\d+)\s*â‚¬/);
        if (inlineMatch) {
            const name = inlineMatch[1].replace(/\s*\(\d[\d,]*\)\s*$/, '').trim();
            const price = inlineMatch[2].replace(',', '.') + ' â‚¬';
            if (name.length > 3) sections.get(cur)?.push({ name, price });
        }
    });

    return sections;
}

async function fetchLunchBreak() {
    const el = document.getElementById('lb-content');
    el.innerHTML = '<div class="spinner-wrap"><div class="spinner"></div><div class="spinner-label">NaÄÃ­tavam...</div></div>';
    try {
        const html = await fetchHTML('https://www.lunch-break.sk/menu-apollo/');
        const doc = new DOMParser().parseFromString(html, 'text/html');
        const sections = parseLunchBreak(doc);
        el.innerHTML = dateHeader() + renderItems(sections);
    } catch(err) {
        console.error('LunchBreak:', err);
        el.innerHTML = errorHTML('fetchLunchBreak');
    }
}

// â”€â”€ Helpers â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

const DAY_CLASS_MAP = {
    'Pondelok': 'pondelok',
    'Utorok':   'utorok',
    'Streda':   'streda',
    'Å tvrtok':  'stvrtok',
    'Piatok':   'piatok',
    'Sobota':   'sobota',
    'NedeÄ¾a':   'nedela',
};

function extractRecipeItems(container) {
    if (!container) return [];
    return Array.from(container.querySelectorAll('div.recipe_item')).map(item => {
        const h3    = item.querySelector('div.ri_text h3');
        const price = item.querySelector('div.ri_cart h5.price, div.ri_cart h5');
        if (!h3 || !price) return null;
        return {
            name:  h3.textContent.trim(),
            price: price.textContent.replace(/\s+/g, ' ').trim(),
        };
    }).filter(Boolean);
}

// â”€â”€ Foodgarden PRESSBURG parser â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Structure:
//   Today block:   div.weekly_menu div.<dayclass>   e.g. div.streda
//   DennÃ© menu:    div.druh_menu.menu_klasik
//   VegÃ¡nske menu: div.druh_menu.menu_vegan
//   StÃ¡la ponuka:  div.druh_menu.stala_ponuka

function parseFoodgardenPressburg(doc) {
    const sections = new Map([
        ['ğŸ½ï¸ DennÃ© menu',   []],
        ['ğŸŒ± VegÃ¡nske menu', []],
        ['ğŸ“‹ StÃ¡la ponuka',  []],
    ]);

    const dayClass  = DAY_CLASS_MAP[todayName()] || todayName().toLowerCase().normalize('NFD').replace(/[\u0300-\u036f]/g,'');
    let todayBlock  = doc.querySelector(`div.weekly_menu .${dayClass}`) || doc.querySelector(`.${dayClass}`);

    // Fallback: match day heading text
    if (!todayBlock) {
        for (const h of doc.querySelectorAll('h2')) {
            if (h.textContent.trim().toUpperCase() === todayName().toUpperCase()) {
                todayBlock = h.closest('.col-lg-1212, .grid-item') || h.parentElement?.parentElement;
                break;
            }
        }
    }

    const scope = todayBlock || doc.querySelector('.dnes_varime') || doc.body;

    sections.get('ğŸ½ï¸ DennÃ© menu').push(  ...extractRecipeItems(scope.querySelector('div.druh_menu.menu_klasik')));
    sections.get('ğŸŒ± VegÃ¡nske menu').push(...extractRecipeItems(scope.querySelector('div.druh_menu.menu_vegan')));
    sections.get('ğŸ“‹ StÃ¡la ponuka').push( ...extractRecipeItems(scope.querySelector('div.druh_menu.stala_ponuka')));

    return sections;
}

// â”€â”€ Foodgarden APOLLO parser â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
// Structure (tab-based):
//   DennÃ© menu:   div#tab-02  â†’ recipe_item list directly
//   StÃ¡la ponuka: div#tab-05  â†’ div.druh_menu.stala_ponuka â†’ recipe_item list

function parseFoodgardenApollo(doc) {
    const sections = new Map([
        ['ğŸ½ï¸ DennÃ© menu',  []],
        ['ğŸ“‹ StÃ¡la ponuka', []],
    ]);

    const tab02 = doc.querySelector('#tab-02');
    const tab05 = doc.querySelector('#tab-05');

    sections.get('ğŸ½ï¸ DennÃ© menu').push(...extractRecipeItems(tab02));
    // stÃ¡la ponuka is inside div.stala_ponuka within tab-05
    const stalaBlock = tab05?.querySelector('div.stala_ponuka, div.druh_menu.stala_ponuka') || tab05;
    sections.get('ğŸ“‹ StÃ¡la ponuka').push(...extractRecipeItems(stalaBlock));

    return sections;
}

async function fetchFoodgardenPressburg() {
    const el = document.getElementById('fp-content');
    el.innerHTML = '<div class="spinner-wrap"><div class="spinner"></div><div class="spinner-label">NaÄÃ­tavam...</div></div>';
    try {
        const html = await fetchHTML('https://pressburg.foodgarden.sk/denne-menu-foodgarden-pressburg/');
        const doc = new DOMParser().parseFromString(html, 'text/html');
        const sections = parseFoodgardenPressburg(doc);
        el.innerHTML = dateHeader() + renderItems(sections);
    } catch(err) {
        console.error('FG Pressburg:', err);
        el.innerHTML = errorHTML('fetchFoodgardenPressburg');
    }
}

async function fetchFoodgardenApollo() {
    const el = document.getElementById('fa-content');
    el.innerHTML = '<div class="spinner-wrap"><div class="spinner"></div><div class="spinner-label">NaÄÃ­tavam...</div></div>';
    try {
        const html = await fetchHTML('https://apollo.foodgarden.sk/denne-menu-apollo/');
        const doc = new DOMParser().parseFromString(html, 'text/html');
        const sections = parseFoodgardenApollo(doc);
        el.innerHTML = dateHeader() + renderItems(sections);
    } catch(err) {
        console.error('FG Apollo:', err);
        el.innerHTML = errorHTML('fetchFoodgardenApollo');
    }
}

// â”€â”€ Boot â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

async function fetchAllMenus() {
    const btn = document.getElementById('fetchBtn');
    btn.disabled = true;
    btn.textContent = 'â³ NaÄÃ­tavam...';

    await Promise.all([
        fetchLunchBreak(),
        fetchFoodgardenPressburg(),
        fetchFoodgardenApollo(),
    ]);

    btn.disabled = false;
    btn.textContent = 'ğŸ”„ NaÄÃ­taj vÅ¡etky menu';

    const now = new Date();
    document.getElementById('updatedTime').textContent =
        `AktualizovanÃ©: ${String(now.getHours()).padStart(2,'0')}:${String(now.getMinutes()).padStart(2,'0')}`;
}

fetchAllMenus();
</script>
</body>
</html>
